<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My second three.js app</title>
    <style>
        body {
            margin: 0;
			overflow: hidden;
            font-family: Arial, sans-serif;
        }


        /* Style for the container div */
        .container {
            .container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 10%;
        z-index: 1;
        }
        

    </style>
</head>
<body>
    <div id="container"></div>
    
    <!-- Include the "main copy.js" script -->
    <script type="module" src="/main copy.js"></script>

    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="node_modules/osc/dist/osc-browser.min.js"></script>

    <script type="module">
        import { TrigPos } from '/main copy.js';


        var port = new osc.WebSocketPort({
            url: "ws://localhost:8081"
        });

        port.on("message", function (oscMessage) {
            $("#message").text(JSON.stringify(oscMessage, undefined, 2));
            console.log("message", oscMessage);
        });

        port.open();

        // Send OSC messages every 100ms
        setInterval(() => {
            console.log('TrigPos:', TrigPos); // Add this line to log the variable

            // Create three separate OSC messages for x, y, and z
            const xMessage = {
                address: '/x',
                args: [{ type: 'f', value: TrigPos.x.toFixed(2) }]
            };
            const yMessage = {
                address: '/y',
                args: [{ type: 'f', value: TrigPos.y.toFixed(2) }]
            };
            const zMessage = {
                address: '/z',
                args: [{ type: 'f', value: TrigPos.z.toFixed(2) }]
            };

            // Send the messages over OSC
            port.send(xMessage);
            port.send(yMessage);
            port.send(zMessage);
        }, 100);


    </script>
</body>
</html>
